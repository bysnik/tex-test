\documentclass[10pt]{article}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{setspace}
\usepackage{titlesec}
\usepackage{enumitem}
\usepackage{pgffor}     % для цикла \foreach
\usepackage{geometry}
\usepackage{indentfirst} % делает отступ первой строки после \section
\usepackage{needspace}  % для проверки свободного места
\usepackage{longtable}
\usepackage{array}
\usepackage{pdflscape}
\usepackage{multirow}

\usepackage{titlesec}

% Выравнивание ВСЕХ заголовков по левому краю
\titleformat{\part}{\normalfont\huge\bfseries}{\thepart}{1em}{}
\titleformat{\chapter}{\normalfont\Large\bfseries}{\thechapter}{1em}{}
\titleformat{\section}{\normalfont\large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalfont\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalfont\bfseries}{\thesubsubsection}{1em}{}
\titleformat{\paragraph}[runin]{\normalfont\bfseries}{\theparagraph}{1em}{}
\titleformat{\subparagraph}[runin]{\normalfont\bfseries}{\thesubparagraph}{1em}{}

% Убираем отступы слева у всех заголовков
\titlespacing*{\part}{0pt}{50pt}{40pt}
\titlespacing*{\chapter}{0pt}{50pt}{20pt}
\titlespacing*{\section}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}
\titlespacing*{\subsection}{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\titlespacing*{\subsubsection}{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\titlespacing*{\paragraph}{0pt}{3.25ex plus 1ex minus .2ex}{1em}
\titlespacing*{\subparagraph}{0pt}{3.25ex plus 1ex minus .2ex}{1em}

% Отвязываем subsection от section
\usepackage{chngcntr}
\setcounter{section}{1}   % Начинаем с "раздела 1"
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}

\makeatletter

% Накопитель
\def\competencylist{}

% Чтение CSV
\newread\compfile
\def\readcompetencies#1{%
  \openin\compfile=#1
  % Пропускаем первую строку (заголовок)
  \read\compfile to \dummyline
  % Читаем остальные
  \loop
    \read\compfile to \line
    \unless\ifeof\compfile
      \ifx\line\empty\else
        \expandafter\extractfirstfield\line\relax
      \fi
  \repeat
  \closein\compfile
}

% Извлекает всё до первой запятой
\def\extractfirstfield#1,#2\relax{%
  \ifx\competencylist\@empty
    \gdef\competencylist{#1}%
  \else
    \g@addto@macro\competencylist{, #1}%
  \fi
}

\makeatother

\makeatletter

% Вторая функция: вывод списка "comp. description"
\def\competencyitems{}

\def\readcompetencyitems#1{%
  \openin\compfile=#1
  % Пропускаем заголовок
  \read\compfile to \dummyline
  \loop
    \read\compfile to \line
    \unless\ifeof\compfile
      \ifx\line\empty\else
        \expandafter\parseitem\line\relax
      \fi
  \repeat
  \closein\compfile
}

% Парсинг строки: "OK 01,Описание" → "OK 01. Описание"
\def\parseitem#1,#2\relax{%
  \ifx\competencyitems\@empty
    \gdef\competencyitems{#1. #2}%
  \else
    \g@addto@macro\competencyitems{\par #1. #2}%
  \fi
}

\makeatother

% Удобный макрос для использования
\newcommand{\printcompetencylist}[1]{%
  \readcompetencyitems{#1}%
  \competencyitems
}

\onehalfspacing
\setlist[itemize]{noitemsep, topsep=4pt, parsep=0pt, partopsep=0pt, leftmargin=1.25cm}
\setlist[enumerate]{noitemsep, topsep=4pt, parsep=0pt, partopsep=0pt, leftmargin=1.25cm}
\setitemize[1]{label=--}
\pagestyle{empty}
\titleformat{\section}{\normalfont\large\bfseries\centering}{\thesection}{1em}{}
\setlength{\parindent}{1.25cm} % стандартный отступ по ГОСТ (1.25 см)
\setlength{\parskip}{0pt}      % убрать вертикальный отступ между абзацами
\geometry{top=2cm, bottom=2cm, left=2.5cm, right=2cm} % Поля страницы

%парсер тхт файлов
\newread\myfile
\def\readline#1#2{%
  \openin\myfile=#2\relax
  \readlinehelper{#1}{1}%
  \closein\myfile
}
\def\readlinehelper#1#2{%
  \ifeof\myfile
    % Если дошли до конца — ничего не делаем
  \else
    \read\myfile to \tmp
    \ifnum#2=#1\relax
      \tmp % выводим нужную строку
    \else
      \expandafter\readlinehelper\expandafter#1\expandafter{\number\numexpr#2+1\relax}%
    \fi
  \fi
}

\begin{document}

% 1. Шапка — название колледжа (по центру)
\begin{center}
    {
    {\bfseries государственное бюджетное профессиональное образовательное учреждение}\\
    {\bfseries «Пермский политехнический колледж имени Н.Г. Славянова»}\\
    }
  \end{center}
  
  % 4. Название документа (по центру)
  \begin{center}
    {\bfseries АННОТАЦИЯ К РАБОЧЕЙ ПРОГРАММЕ ДИСЦИПЛИНЫ}\\
    {\bfseries по специальности \readline{3}{parameters.txt}\unskip{} \readline{4}{parameters.txt}\unskip{}}\\
    {\bfseries \readline{1}{parameters.txt}\unskip{}}\\
  \end{center}

\subsection{Область применения рабочей программы}

\input{oblast_prim}

\subsection{Место дисциплины в структуре основной профессиональной образовательной программы:}

\input{mesto_disc}

\subsection{Цели и задачи дисциплины - требования к результатам освоения дисциплины:}

В результате освоения дисциплины обучающийся должен

уметь:
\begin{itemize}
  \foreach \n in {1,...,3} {
    \item[--] \readline{\n}{ymet.txt}
  }
\end{itemize}

знать:
\begin{itemize}
  \foreach \n in {1,...,2} {
    \item[--] \readline{\n}{znat.txt}
  }
\end{itemize}

\readcompetencies{competencies.csv}

\subsection{Полученные знания и приобретенные умения направлены на формирование следующих компетенций \competencylist, включающими в себя способность:}

\printcompetencylist{competencies.csv}

\clearpage

\subsection{Объем учебной дисциплины и виды учебной работы}

\begin{tabular}{|p{10cm}|c|}
\hline
\textbf{Вид учебной работы} & Объем часов \\
\hline
\textbf{Объем образовательной программы} & 96 \\
\hline
\multicolumn{2}{|l|}{в том числе:} \\
\hline
самостоятельная работа обучающихся & 16 \\
\hline
консультации & 8 \\
\hline
теоретическое обучение & 20 \\
\hline
практические занятия & 44 \\
\hline
лабораторные занятия & - \\
\hline
курсовая работа (проект) & - \\
\hline
контрольная работа & 6 \\
\hline
промежуточная аттестация: дифференцированный зачет & 2 \\
\hline
\textbf{Объем практической подготовки} & 44 \\
\hline
\end{tabular}

\end{document}
